server {
    listen 80;  # 监听 80 端口
    server_name localhost;  # 服务器名称为 localhost

    root /usr/share/nginx/html;  # 设置网站根目录
    index index.html;  # 默认首页文件

    # 处理 /admin/pro/ 路径的 SPA 路由
    location /admin/pro/ {
        try_files $uri $uri/ /admin/pro/index.html;  # 如果文件或目录不存在，重定向到 /admin/pro/index.html
    }

    # 处理 /admin/std/ 路径的 SPA 路由
    location /admin/std/ {
        try_files $uri $uri/ /admin/std/dist/views/index.html;  # 如果文件或目录不存在，重定向到 /admin/std/dist/views/index.html
    }

    # 将 /admin/std 重定向到 /admin/std/dist/views/
    location = /admin/std {
        return 301 /admin/std/dist/views/;  # 永久重定向
    }

    # 处理静态文件（如 JS、CSS、图片等），并设置缓存头
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
        expires 1y;  # 缓存时间为 1 年
        add_header Cache-Control "public, immutable";  # 添加缓存控制头
    }

    # 添加安全头
    add_header X-Frame-Options "SAMEORIGIN" always;  # 防止点击劫持
    add_header X-Content-Type-Options "nosniff" always;  # 防止 MIME 类型混淆攻击
    add_header X-XSS-Protection "1; mode=block" always;  # 启用 XSS 保护

    # 启用 Gzip 压缩
    gzip on;  # 开启 Gzip
    gzip_vary on;  # 根据请求头 Vary 启用压缩
    gzip_min_length 1024;  # 最小压缩长度为 1024 字节
    gzip_types text/plain text/css text/xml text/javascript application/javascript application/xml+rss application/json;  # 压缩的文件类型
}